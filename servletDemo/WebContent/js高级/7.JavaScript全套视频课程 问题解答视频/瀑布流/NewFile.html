<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Insert title here</title>
<style>
*{margin:0;padding:0;}
li{list-style:none;}
#div1{width:705px;margin:20px auto;}
ul{width:225px;height:auto;margin:5px;float:left;}
</style>
<script>
window.onload=function(){
	var oDiv=document.getElementById("div1");
	var num=1;
	window.onscroll=function(){
		var flag=false;
		var viewHeight=document.documentElement.clientHeight;
		var top=document.documentElement.scrollTop||document.body.scrollTop;
		var _top=viewHeight+top;
		var oUl=oDiv.getElementsByTagName("ul");
		var lastArr=[];
		for(var i=0;i<oUl.length;i++){
			var li=oUl[i].getElementsByTagName("li");
			lastArr.push(li[li.length-1]);
		}
		
		for(var i=0;i<lastArr.length;i++){
			var pos=getPost(lastArr[i]);
			if(_top>=pos){
				flag=true;
				break;
			}
		}
		
		if(flag&&num<3){
			var temp='';
			for(var i=0;i<oUl.length;i++){
				temp='<li><img alt="" src="img/'+(3*i+1)+'.jpg"><p>'+(3*i+1)+
				'</p></li><li><img alt="" src="img/'+(3*i+2)+'.jpg"><p>'+(3*i+2)+'</p>'+
					'</li><li><img alt="" src="img/'+(3*i+3)+'.jpg"><p>'+(3*i+3)+'</p></li>';
				oUl[i].innerHTML+=temp;
			}
			num++
		}
	}
	
	
}

function getPost(obj){
	var top=0;
	while(obj){
		top+=obj.offsetTop;
		obj=obj.offsetParent;
	}
	return top;
}
</script>
</head>
<body>
<div id="div1">
	<ul>
		<li><img alt="" src="img/1.jpg"><p>1</p></li>
		<li><img alt="" src="img/2.jpg"><p>2</p></li>
		<li><img alt="" src="img/3.jpg"><p>3</p></li>
	</ul>
	<ul>
		<li><img alt="" src="img/4.jpg"><p>4</p></li>
		<li><img alt="" src="img/5.jpg"><p>5</p></li>
		<li><img alt="" src="img/6.jpg"><p>9</p></li>
	</ul>
	<ul>
		<li><img alt="" src="img/7.jpg"><p>7</p></li>
		<li><img alt="" src="img/8.jpg"><p>8</p></li>
		<li><img alt="" src="img/9.jpg"><p>6</p></li>
	</ul>
</div>
</body>
</html>