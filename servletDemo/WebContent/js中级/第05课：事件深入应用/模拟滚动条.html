<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link type="text/css" rel="stylesheet" href="css/main.css"/>
<script type="text/javascript" src="js/main.js"></script>
<style>
#main{width:600px;height:300px;margin:100px auto;border:1px solid #ccc;}
#content{width:500px;height:200px;margin:50px auto;border:1px solid #ccc;
position:relative;overflow:hidden;}
#content1{width:480px;min-height:200px;position:absolute;}
#div1{position:absolute;height:200px;width:20px;background:#333;top:0;right:0;}
#div2{position:absolute;height:100px;width:20px;background:red;}
</style>
<script>
window.onload=function(){
	var oDiv2=$("div2");
	var oDiv1=$("div1");
	var oContent1=$("content1");
	var oContent=$("content");

    var conH=oContent.offsetHeight-oContent1.offsetHeight;
    var oDivH=oDiv1.offsetHeight;
    if(conH>=0){
        oDiv1.style.display="none";
    }else{
        var _temp=oDiv1.offsetHeight+conH;
        if(_temp<=20){
            _temp=20;
        }
        oDiv2.style.height=_temp+"px";
    }
	
	oDiv2.onmousedown=function(ev){
		console.log(oContent1.offsetHeight);
		
		var ev=ev||event;
		var disY=ev.clientY-this.offsetTop;
		
		var maxTop=oDiv1.offsetHeight-this.offsetHeight;
		
		var contentTop=oContent1.offsetTop; //0
		var minContentTop=oContent.offsetHeight-oContent1.offsetHeight;
		
		document.onmousemove=function(ev){
			var ev=ev||event;
			var temp=ev.clientY-disY;
			var temp1=contentTop-temp;
			if(temp<0){
				temp=0;
			}else if(temp>maxTop){
				temp=maxTop;
			}
			oDiv2.style.top=temp+"px";
			oContent1.style.top=minContentTop*temp/maxTop+"px";
		}
		
		document.onmouseup=function(){
			document.onmouseup=document.onmousemove=null;
		}
	}
}
</script>
</head>
<body>

<div id="main">
	<div id="content">
		<div id="content1">
		Python具有丰富和强大的库。它常被昵称为胶水语言，能够把用其他语言制作的各种模块
		（尤其是C/C++）很轻松地联结在一起。常见的一种应用情形是，使用Python快速生成程序的原型
		（有时甚至是程序的最终界面），然后对其中[3]  有特别要求的部分，用更合适的语言改写，
		比如3D游戏中的图形渲染模块，性能要求特别高，就可以用C/C++重写，而后封装为Python可以调用的扩展类库。
		需要注意的是在您使用扩展类库时可能需要考虑平台问题，某些可能不提供跨平台的实现。
		Python具有丰富和强大的库。它常被昵称为胶水语言，能够把用其他语言制作的各种模块
		（尤其是C/C++）很轻松地联结在一起。常见的一种应用情形是，使用Python快速生成程序的原型
            <!--（有时甚至是程序的最终界面），然后对其中[3]  有特别要求的部分，用更合适的语言改写，
            比如3D游戏中的图形渲染模块，性能要求特别高，就可以用C/C++重写，而后封装为Python可以调用的扩展类库。
            需要注意的是在您使用扩展类库时可能需要考虑平台问题，某些可能不提供跨平台的实现。-->
		<!--Python具有丰富和强大的库。它常被昵称为胶水语言，能够把用其他语言制作的各种模块
		（尤其是C/C++）很轻松地联结在一起。常见的一种应用情形是，使用Python快速生成程序的原型
		（有时甚至是程序的最终界面），然后对其中[3]  有特别要求的部分，用更合适的语言改写，
		比如3D游戏中的图形渲染模块，性能要求特别高，就可以用C/C++重写，而后封装为Python可以调用的扩展类库。
		需要注意的是在您使用扩展类库时可能需要考虑平台问题，某些可能不提供跨平台的实现。--></div>
		<div id="div1"><div id="div2"></div></div>
	</div>
	
</div>
</body>
</html>